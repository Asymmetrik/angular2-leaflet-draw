/*! @asymmetrik/angular2-leaflet-draw-1.2.1 - Copyright Asymmetrik, Ltd. 2007-2017 - All Rights Reserved.*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@asymmetrik/angular2-leaflet"),require("leaflet")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@asymmetrik/angular2-leaflet","leaflet"],t):t(e.angular2LeafletDraw=e.angular2LeafletDraw||{},e.ng.core,e.angular2Leaflet,e.L)}(this,function(e,t,r,n){"use strict";var a=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o},i=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(){function e(e){this.drawOptions=null,this.leafletDirective=new r.LeafletDirectiveWrapper(e)}return e.prototype.ngOnInit=function(){var e=this;this.leafletDirective.init(),this.drawOptions=this.initializeDrawOptions(this.drawOptions),this.drawControl=new n.Control.Draw(this.drawOptions),this.featureGroup=this.drawOptions.edit.featureGroup,this.leafletDirective.getMap().addControl(this.drawControl),this.leafletDirective.getMap().on(n.Draw.Event.CREATED,function(t){var r=t.layer;e.featureGroup.addLayer(r)})},e.prototype.ngOnChanges=function(e){},e.prototype.initializeDrawOptions=function(e){return null==e&&(e={edit:null}),null==e.edit&&(e.edit={featureGroup:null}),null==e.edit.featureGroup&&(e.edit.featureGroup=n.featureGroup(),this.leafletDirective.getMap().addLayer(e.edit.featureGroup)),e},e}();a([t.Input("leafletDrawOptions"),i("design:type",Object)],o.prototype,"drawOptions",void 0),o=a([t.Directive({selector:"[leafletDraw]"}),i("design:paramtypes",[r.LeafletDirective])],o);var l=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o};e.LeafletDrawModule=f=function(){function e(){}return e.forRoot=function(){return{ngModule:f,providers:[]}},e}(),e.LeafletDrawModule=f=l([t.NgModule({imports:[r.LeafletModule],exports:[o],declarations:[o]})],e.LeafletDrawModule);var f;Object.defineProperty(e,"__esModule",{value:!0})});