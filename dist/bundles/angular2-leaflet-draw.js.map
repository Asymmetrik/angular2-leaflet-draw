{"version":3,"file":"angular2-leaflet-draw.js","sources":["../leaflet-draw/core/leaflet-draw.directive.js","../leaflet-draw/leaflet-draw.module.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Directive, Input } from '@angular/core';\nimport * as L from 'leaflet';\nimport { LeafletDirective, LeafletDirectiveWrapper } from '@asymmetrik/angular2-leaflet';\nvar LeafletDrawDirective = (function () {\n    function LeafletDrawDirective(leafletDirective) {\n        this.drawOptions = null;\n        this.leafletDirective = new LeafletDirectiveWrapper(leafletDirective);\n    }\n    LeafletDrawDirective.prototype.ngOnInit = function () {\n        var _this = this;\n        this.leafletDirective.init();\n        // Initialize the draw options (in case they weren't provided)\n        this.drawOptions = this.initializeDrawOptions(this.drawOptions);\n        // Create the control\n        this.drawControl = new L.Control.Draw(this.drawOptions);\n        // Pull out the feature group for convenience\n        this.featureGroup = this.drawOptions.edit.featureGroup;\n        // Add the control to the map\n        this.leafletDirective.getMap().addControl(this.drawControl);\n        // Register the main handler for events coming from the draw plugin\n        this.leafletDirective.getMap().on(L.Draw.Event.CREATED, function (e) {\n            var layer = e.layer;\n            _this.featureGroup.addLayer(layer);\n        });\n    };\n    LeafletDrawDirective.prototype.ngOnChanges = function (changes) {\n        // No changes being handled currently\n    };\n    LeafletDrawDirective.prototype.initializeDrawOptions = function (options) {\n        // Ensure the options have a featureGroup\n        if (null == options) {\n            options = {\n                edit: null\n            };\n        }\n        if (null == options.edit) {\n            options.edit = {\n                featureGroup: null\n            };\n        }\n        if (null == options.edit.featureGroup) {\n            // No feature group was provided, so we're going to add it ourselves\n            options.edit.featureGroup = L.featureGroup();\n            this.leafletDirective.getMap().addLayer(options.edit.featureGroup);\n        }\n        return options;\n    };\n    return LeafletDrawDirective;\n}());\n__decorate([\n    Input('leafletDrawOptions'),\n    __metadata(\"design:type\", Object)\n], LeafletDrawDirective.prototype, \"drawOptions\", void 0);\nLeafletDrawDirective = __decorate([\n    Directive({\n        selector: '[leafletDraw]'\n    }),\n    __metadata(\"design:paramtypes\", [LeafletDirective])\n], LeafletDrawDirective);\nexport { LeafletDrawDirective };\n//# sourceMappingURL=leaflet-draw.directive.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { NgModule } from '@angular/core';\nimport { LeafletModule } from '@asymmetrik/angular2-leaflet';\nimport { LeafletDrawDirective } from './core/leaflet-draw.directive';\nvar LeafletDrawModule = (function () {\n    function LeafletDrawModule() {\n    }\n    LeafletDrawModule.forRoot = function () {\n        return { ngModule: LeafletModule, providers: [] };\n    };\n    return LeafletDrawModule;\n}());\nLeafletDrawModule = __decorate([\n    NgModule({\n        imports: [\n            LeafletModule\n        ],\n        exports: [\n            LeafletDrawDirective\n        ],\n        declarations: [\n            LeafletDrawDirective\n        ]\n    })\n], LeafletDrawModule);\nexport { LeafletDrawModule };\n//# sourceMappingURL=leaflet-draw.module.js.map"],"names":["__decorate","this","LeafletDirectiveWrapper","L.Control","L.Draw","L.featureGroup","Input","Directive","LeafletDirective","LeafletDrawModule","LeafletModule","NgModule"],"mappings":"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"}